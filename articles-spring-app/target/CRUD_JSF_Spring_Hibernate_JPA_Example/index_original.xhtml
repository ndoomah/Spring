<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui">

    <body>
        <ui:composition template="./application.xhtml">
            <ui:define name="title">CRUD Example</ui:define>
            <div class="large-12 columns">
                <div class="panel">
                    <ui:define name="content">                      
                        <h3>Article</h3>
                        
                        <h:form>
							<div class="row">
            					<div class="small-2 columns">
									<p:outputLabel for="title" value="Title:" />
                				</div>
                				<div class="small-9 columns">
				                    <h:inputText id="title" value="#{articleBean.item.title}"/>

								</div>
				            </div>
							<div class="row">
								<div class="small-2 columns">
									<p:outputLabel for="status" value="Status:" />

								</div>
								<div class="small-9 columns">
									<p:selectOneRadio id="status" value="#{articleBean.item.status}" unselectable="true">
										<f:selectItem itemLabel="On sale" itemValue="On sale" />
										<f:selectItem itemLabel="Sold" itemValue="Sold" />

									</p:selectOneRadio>
								</div>
							</div>
							<div class="row">
								<div class="small-2 columns">
									<p:outputLabel for="type" value="Type:" />
								</div>
								<div class="small-9 columns">
									<p:selectOneMenu id="type" value="#{articleBean.item.type}" style="width:125px">
										<f:selectItem itemLabel="Select One" itemValue="testtype" />
										<f:selectItem itemLabel="Food" itemValue="Food" />
										<f:selectItem itemLabel="Furniture" itemValue="Furniture" />
										<f:selectItem itemLabel="Clothing" itemValue="Clothing" />
									</p:selectOneMenu>
								</div>
							</div>
							<div class="row">
								<div class="small-2 columns">
									<p:outputLabel for="location" value="Location:" />
								</div>
								<div class="small-9 columns">
									<p:inputTextarea id="location" rows="10" cols="50" value="#{articleBean.item.location}" completeMethod="#{articleBean.completeArea}" queryDelay="750" minQueryLength="4" />

								</div>
							</div>
				            <div class="row">
				            	<div class="small-2 columns">
									<p:outputLabel for="text" value="Text:" />
			                   	</div>
		                   		<div class="small-9 columns">
				                	<h:inputTextarea id="text" value="#{articleBean.item.text}"/>
				                    <p>
				                        <h:commandButton value="Save" type="submit"
				                         action="#{articleBean.save()}"
				                         styleClass="button radius"/>
				                    </p>
			                    </div>
				            </div>
						</h:form> 
						
						<h3>Articles List</h3>
						
						<table>
		                <thead>
		                <tr>
		                    <th>
		                    	<td> Article </td>
		                    	<td> Title </td>
		                    </th>
		                    <th/>
		                    <th/>
		                </tr>
		                </thead>
		                <tbody>
		                <ui:repeat value="#{articleBean.items}" var="item">
		                    <h:form>
		                        <tr>
		                        	<td>#{item.id}</td>
		                            <td>#{item.title}</td>
		                            <td>
		                                <h:commandLink value="Edit" action="#{articleBean.setItem(item)}" styleClass="button radius small"/>
		                            </td>
		                            <td>
		                                <h:commandLink value="Delete" action="#{articleBean.destroy(item)}" styleClass="button radius small alert"/>
		                            </td>
		                        </tr>
		                    </h:form>
		                </ui:repeat>
		                </tbody>
		            </table>
                    </ui:define>
                </div>
            </div>
        </ui:composition>
    </body>
</html>
